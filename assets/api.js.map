{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/shopify-theme-api/dist/api.es.js","webpack:///./source/scripts/api.js"],"names":["window","api"],"mappings":"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","file":"api.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","function k(b){k=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&\"function\"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?\"symbol\":typeof a};return k(b)}function l(b,a){if(!(b instanceof a))throw new TypeError(\"Cannot call a class as a function\");}\nfunction m(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;\"value\"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}function n(b,a,c){a&&m(b.prototype,a);c&&m(b,c);return b}function p(b,a){if(\"function\"!==typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function\");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}});a&&q(b,a)}\nfunction r(b){r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return r(b)}function q(b,a){q=Object.setPrototypeOf||function(a,d){a.__proto__=d;return a};return q(b,a)}function t(b,a){if(a&&(\"object\"===typeof a||\"function\"===typeof a))return a;if(void 0===b)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return b}\nfunction u(b){if(Array.isArray(b)){var a=0;for(var c=Array(b.length);a<b.length;a++)c[a]=b[a];a=c}else a=void 0;a||(a=Symbol.iterator in Object(b)||\"[object Arguments]\"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=a))throw new TypeError(\"Invalid attempt to spread non-iterable instance\");return b}\nvar v=function(){function b(a){l(this,b);this._api=a;this._registered=[]}n(b,[{key:\"register\",value:function(a){var c=this,d=a.id,b=a.contact,e=a.values;e=void 0===e?{}:e;var g=a.elements;g=void 0===g?{}:g;a=a.events;a=void 0===a?{}:a;if(\"string\"!==typeof d||\"\"===d)throw Error(\"Integration ID cannot be empty.\");if(\"string\"!==typeof b||\"\"===b)throw Error(\"Integration contact cannot be empty.\");[[\"values\",e],[\"elements\",g],[\"events\",a]].forEach(function(a){if(\"object\"!==k(a[1]))throw Error(\"Integration \".concat(a[0],\n\" property must be of type object.\"));Object.keys(a[1]).forEach(function(c){if(\"function\"!==typeof a[1][c])throw Error(\"Integration \".concat(a[0],\" property must contain a function as the value for each key, value pairing.\"));})});this._registered=this._registered.filter(function(a){return a.id!==d});this._registered.push({id:d,contact:b,values:e,elements:g,events:a});Object.keys(e).forEach(function(a){return c.updateValue(a)});Object.keys(g).forEach(function(a){return c.updateElement(a)});return!0}},\n{key:\"updateValue\",value:function(a){var c=this;a=this._api.theme.getValues(a);return a.length?Promise.all(a.map(function(a){return a&&a.initialValue?c._api.theme.updateValue(a.value.name,a.initialValue,a.params):Promise.resolve()})).then(function(){return!0}).catch(function(){return!1}):Promise.resolve(!1)}},{key:\"updateElement\",value:function(a){var c=this;a=this._api.theme.getElements(a);return a.length?Promise.all(a.map(function(a){return a?c._api.theme.updateElement(a.element.name,a.params):\nPromise.resolve()})).then(function(){return!0}).catch(function(){return!1}):Promise.resolve(!1)}},{key:\"registered\",get:function(){return this._registered}}]);return b}();function w(b,a){if(b&&!a)return b;if(!b&&a)return a;if(!b&&!a)return{};var c={};Object.keys(b).forEach(function(a){c[a]=b[a]});Object.keys(a).forEach(function(d){c[d]=a[d]});return c}function x(b){b=b.split(\":\");return 3===b.length?b[1]:null}\nvar y=function(){function b(a,c){l(this,b);this._api=a;this._name=c;this._id=x(c);this._handle=(a=x(c))?c.replace(a,\"<id>\"):c}n(b,[{key:\"name\",get:function(){return this._name}},{key:\"id\",get:function(){return this._id}},{key:\"handle\",get:function(){return this._handle}}]);return b}();function z(b,a){var c=Promise.resolve();b.forEach(function(d){c=c.then(function(){return a(d)})});return c}\nvar A=function(b){function a(c,d){l(this,a);c=t(this,r(a).call(this,c,d));c._activePromise=Promise.resolve();return c}p(a,b);n(a,[{key:\"update\",value:function(a,d){function c(){return z(g,function(c){return new Promise(function(f){var e=c.values[b._handle];if(!e)return f();e=e({id:b._id,initialValue:a,value:h,params:d});e instanceof Promise?e.then(function(a){h=a;f()}):(h=e,f())})}).then(function(){return h})}var b=this,g=this._api.integrations.registered,h=a;return this._activePromise.then(function(){return c()})}}]);\nreturn a}(y),Element=function(b){function a(c,d,b){l(this,a);c=t(this,r(a).call(this,c,d));c._container=b;c._results={};c._activePromise=Promise.resolve();return c}p(a,b);n(a,[{key:\"update\",value:function(a){function c(){var c={},d=[];return z(e,function(f){return new Promise(function(e){var g=f.elements[b._handle];if(!g)return e();g=g({id:b._id,params:a});g instanceof Promise?g.then(function(a){c[f.id]=a;d.push.apply(d,u(a.elements));e()}):(c[f.id]=g,d.push.apply(d,u(g.elements)),e())})}).then(function(){return b.unload()}).then(function(){return d.forEach(function(a){return b._container.appendChild(a)})}).then(function(){b._results=\nc}).then(function(){return d})}var b=this,e=this._api.integrations.registered;return this._activePromise.then(function(){return c()})}},{key:\"unload\",value:function(){var a=this;Object.keys(this._results).forEach(function(c){var b=a._results[c];c=b.elements;b=b.onUnload;b();c.forEach(function(c){a._container.contains(c)&&a._container.removeChild(c)})});this._results={}}}]);return a}(y),B=function(){function b(a){var c=this;l(this,b);this._api=a;this._values={};this._elements={};this._batchUpdate=\n{values:[],elements:[]};this._isLoaded=!1;window.addEventListener(\"DOMContentLoaded\",function f(){c._isLoaded=!0;c._batchUpdate.values.forEach(function(a){return a()});c._batchUpdate.elements.forEach(function(a){return a()});window.removeEventListener(\"DOMContentLoaded\",f)})}n(b,[{key:\"getValues\",value:function(a){var c=this;if(this._values[a])return[this._values[a]];var b=[];Object.keys(this._values).forEach(function(d){d=c._values[d];d.value.handle===a&&b.push(d)});return b}},{key:\"getElements\",\nvalue:function(a){var c=this;if(this._elements[a])return[this._elements[a]];var b=[];Object.keys(this._elements).forEach(function(d){d=c._elements[d];d.element.handle===a&&b.push(d)});return b}},{key:\"useValue\",value:function(a,c){var b={name:null,handler:null};a&&\"object\"===k(a)&&!c?b=a:a&&\"string\"===typeof a&&c&&\"function\"===typeof c&&(b.name=a,b.handler=c);return this._useValue(b)}},{key:\"useElement\",value:function(a,c){var b={name:null,container:null};a&&\"object\"===k(a)&&!c?b=a:a&&\"string\"===\ntypeof a&&c&&c instanceof HTMLElement&&(b.name=a,b.container=c);return this._useElement(b)}},{key:\"updateValue\",value:function(a,b,d){var c=this,e=this._values[a];if(!this._isLoaded&&-1===this._batchUpdate.values.indexOf(e))return new Promise(function(b){c._batchUpdate.values.push(function(){return c.updateValue(a).then(function(a){return b(a)})})});if(e&&e.initialValue){var g=e.value,h=e.instances;if(h.length)return g.update(b,d).then(function(a){return Promise.all(h.map(function(b){return b.handler(a,\nd)})).then(function(){return a})})}return Promise.resolve()}},{key:\"updateElement\",value:function(a,b){var c=this,f=this._elements[a];return this._isLoaded||-1!==this._batchUpdate.elements.indexOf(f)?f?f.element.update(b):Promise.resolve():new Promise(function(b){c._batchUpdate.elements.push(function(){return c.updateElement(a).then(function(a){return b(a)})})})}},{key:\"triggerEvent\",value:function(a,b){function c(){}var f=!1,e=!1;b&&\"function\"===typeof b.cancel&&(f=!0,c=function(){e=!0;b.cancel()});\nreturn Promise.all(this._api.integrations.registered.map(function(d){return d.events[a]&&(d=d.events[a]({cancellable:f,cancel:c,params:b||{}}),d instanceof Promise)?d:Promise.resolve()})).then(function(){return e})}},{key:\"_useValue\",value:function(a){var b=this,d=a.name,f=a.handler,e=a.initialValue;a=this._createOrUpdateValue(d,e,a.params).value;a={name:a.name,id:a.id,handle:a.handle,handler:f,unload:function(){b._values[d].instances=b._values[d].instances.filter(function(a){return a.handler!==f});\nb._values[d].instances.length||delete b._values[d]}};this._values[d].instances.push(a);e&&this.updateValue(d,e);return a}},{key:\"_useElement\",value:function(a){var b=this,d=a.name,f=a.params,e=this._createOrUpdateElement(d,a.container,f).element;a={name:e.name,id:e.id,handle:e.handle,unload:function(){e.unload();delete b._elements[d]}};this.updateElement(d,f);return a}},{key:\"_createOrUpdateValue\",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=this._values[a];\nthis._values[a]?(f.initialValue=b,f.params=w(f.params,c)):(f={value:new A(this._api,a),initialValue:b,params:c,instances:[]},this._values[a]=f);return f}},{key:\"_createOrUpdateElement\",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=this._elements[a];this._elements[a]?f.params=w(f.params,c):(f={element:new Element(this._api,a,b),params:c},this._elements[a]=f);return f}}]);return b}(),C=new (function(){function b(){l(this,b);this._integrations=new v(this);this._theme=\nnew B(this)}n(b,[{key:\"version\",get:function(){return 0}},{key:\"integrations\",get:function(){return this._integrations}},{key:\"theme\",get:function(){return this._theme}}]);return b}());export default C;\n","import api from 'shopify-theme-api';\n\nwindow.api = api;\n"],"sourceRoot":""}